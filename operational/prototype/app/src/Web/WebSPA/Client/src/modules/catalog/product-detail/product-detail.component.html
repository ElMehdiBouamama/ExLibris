<div class="container">
    <div class="d-flex justify-content-between flex-wrap py-5 align-items-center">
        <div class="product-display">

            <iframe width="100%"
                    height="100%"
                    [src]="stampURL"
                    frameborder="0"></iframe>
        </div>
        <div mat-elevation-z4 class="p-3 detail-card min-h-640 h-100">
            <div class="d-flex flex-column pt-3 pb-0 px-3 h-100 justify-content-between min-h-640" *ngIf="item$ | async as item; else loading">

                <h3>{{ item.catalogBrand }}<br />{{ item.name }}</h3>

                <div>
                    <div class="d-flex flex-row justify-content-between">
                        <div>
                            <h5>{{ item.lines }} lines</h5>
                            <h6>{{ item.dimensions[0] }} x {{ item.dimensions[1] }} mm</h6>
                        </div>
                        <app-rating-choice [rate]="3.3" [max]="5" [readonly]="true" [nbratings]="65"></app-rating-choice>
                    </div>
                    <p class="description">{{item.description}}</p>
                </div>

                <div>
                    <div class="d-flex flex-column mt-3">
                        <h6 class="m-0">Couleur du boitier</h6>
                        <mat-button-toggle-group #group="matButtonToggleGroup" [(ngModel)]="stampColor" >
                            <mat-button-toggle value="Neonorange" aria-label="Orange stamp" [style.color]="'#F2994A'">
                                <mat-icon>lens</mat-icon>
                            </mat-button-toggle>
                            <mat-button-toggle value="Skyblue" aria-label="Blue stamp" [style.color]="'#2D9CDB'">
                                <mat-icon>lens</mat-icon>
                            </mat-button-toggle>
                            <mat-button-toggle value="Applegreen" aria-label="Green stamp" [style.color]="'#8CCA65'">
                                <mat-icon>lens</mat-icon>
                            </mat-button-toggle>
                            <mat-button-toggle value="Fuchsiapink" aria-label="Pink stamp" [style.color]="'#DC5CA4'">
                                <mat-icon>lens</mat-icon>
                            </mat-button-toggle>
                            <mat-button-toggle value="Flamered" aria-label="Red stamp" [style.color]="'#EB5757'" [checked]="true">
                                <mat-icon>lens</mat-icon>
                            </mat-button-toggle>
                        </mat-button-toggle-group>
                    </div>
                    <div class="d-flex flex-column my-3">
                        <h6 class="m-0">Couleur d'encre</h6>
                        <span class="reviews">
                            <mat-button-toggle-group #group="matButtonToggleGroup" [(ngModel)]="inkColor">
                                <mat-button-toggle value="red" aria-label="Red ink" [style.color]="'#CA2121'">
                                    <mat-icon>water_drop</mat-icon>
                                </mat-button-toggle>
                                <mat-button-toggle value="blue" aria-label="Blue ink" [style.color]="'#225B85'">
                                    <mat-icon>water_drop</mat-icon>
                                </mat-button-toggle>
                                <mat-button-toggle value="green" aria-label="Green ink" [style.color]="'#92B745'">
                                    <mat-icon>water_drop</mat-icon>
                                </mat-button-toggle>
                                <mat-button-toggle value="black" aria-label="Black ink" [style.color]="'#303030'" [checked]="true">
                                    <mat-icon>water_drop</mat-icon>
                                </mat-button-toggle>
                            </mat-button-toggle-group>
                        </span>
                    </div>
                </div>

                <div class="d-flex flex-row flex-wrap justify-content-between w-100 align-items-center">
                    <span>
                        <p class="old-price mb-3">{{ item.price * 1.25 | number: '1.2-2' }} Dhs</p>
                        <p class="new-price">{{ item.price | number: '1.2-2' }} Dhs</p>
                    </span>
                    <button mat-btn mat-elevation-z2 class="cta-btn" [routerLink]="['/editor']" [state]="item">Personaliser</button>
                </div>

            </div>
            <ng-template #loading>
                <h3>Loading ...</h3>
            </ng-template>
        </div>
    </div>
</div>
